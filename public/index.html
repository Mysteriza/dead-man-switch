<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Dead Man Switch</title>
        <link rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css">
        <link rel="stylesheet" href="styles.css">
    </head>
    <body class="bg-gray-100 flex items-center justify-center h-screen">
        <div
            class="container bg-white p-8 rounded-lg shadow-lg max-w-md w-full">
            <h1 class="text-2xl font-bold mb-6 text-center">Dead Man Switch</h1>
            <div class="timer text-4xl font-bold text-center mb-6"
                id="timer">00:00:00</div>

            <!-- Form untuk FormSubmit (akan di-submit secara otomatis) -->
            <form id="deadManForm"
                action="https://formsubmit.co/66a11535c7015581d1a5ad0a7b474a6a"
                method="POST" enctype="multipart/form-data" class="hidden">
                <input type="hidden" name="_subject"
                    value="Dead Man Switch Triggered">
                <input type="hidden" name="_captcha" value="false">
                <textarea id="formActionText" name="actionText"></textarea>
                <input type="file" id="formActionFile" name="attachment"
                    accept=".txt,.pdf,.doc,.docx">
            </form>

            <!-- Konten utama aplikasi -->
            <div class="controls space-y-4">
                <div>
                    <label for="interval"
                        class="block text-sm font-medium text-gray-700">Preset:</label>
                    <select id="interval"
                        class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm">
                        <option value="86400">24 Hours</option>
                        <option value="604800">1 Week</option>
                        <option value="2592000">1 Month</option>
                        <option value="custom">Custom</option>
                    </select>
                </div>
                <div id="customIntervalContainer" class="hidden">
                    <label for="customInterval"
                        class="block text-sm font-medium text-gray-700">Set
                        duration (second):</label>
                    <input type="number" id="customInterval"
                        class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm"
                        placeholder="Enter duration in seconds">
                </div>
                <div>
                    <label for="stopDateTime"
                        class="block text-sm font-medium text-gray-700">Custom
                        Time:</label>
                    <input type="datetime-local" id="stopDateTime"
                        class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm">
                </div>
                <button id="startBtn"
                    class="w-full bg-blue-500 text-white p-2 rounded-md hover:bg-blue-600">Start
                    Timer</button>
                <button id="checkinBtn" disabled
                    class="w-full bg-gray-300 text-white p-2 rounded-md cursor-not-allowed">Check-In</button>
            </div>
            <div class="action mt-6">
                <label for="actionText"
                    class="block text-sm font-medium text-gray-700">What to do
                    if time runs out:</label>
                <textarea id="actionText"
                    class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm"
                    placeholder="Enter text, link, instructions, or file to send..."></textarea>
                <input type="file" id="actionFile"
                    class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm"
                    accept=".txt,.pdf,.doc,.docx">
            </div>
            <div class="output mt-6 text-center text-red-500 font-bold"
                id="output"></div>
        </div>

        <!-- Modal untuk password check-in -->
        <div id="passwordModal"
            class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
            <div class="bg-white p-8 rounded-lg shadow-lg max-w-md w-full">
                <span
                    class="close float-right text-gray-600 cursor-pointer">&times;</span>
                <h2 class="text-xl font-bold mb-4">Enter password!</h2>
                <div class="relative">
                    <input type="password" id="passwordInput"
                        class="w-full p-2 border border-gray-300 rounded-md shadow-sm"
                        placeholder="Enter password">
                    <button id="togglePassword"
                        class="absolute inset-y-0 right-0 px-3 py-2 text-gray-600 hover:text-gray-800">
                        üëÅÔ∏è
                    </button>
                </div>
                <button id="submitPassword"
                    class="w-full bg-blue-500 text-white p-2 rounded-md mt-4 hover:bg-blue-600">Submit</button>
            </div>
        </div>

        <script src="script.js"></script>
    </body>
</html>